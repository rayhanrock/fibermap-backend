"use strict";(self.webpackChunkfibermap_frontend=self.webpackChunkfibermap_frontend||[]).push([[962],{4690:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ft});var r=n(2791),s=n(8956),l=n(1460),a=n(4214),i=n(5607),o=n(4420),c=n(9563),d=n(7104),u=n(4834),h=n(2836),x=n(8467),A=n(834),j=n(9599);const g=()=>async e=>{try{const{data:t,status:n}=await(0,j.Up)();200===n&&e(c.n.setPops(t))}catch(t){console.error(t)}},p=()=>async e=>{try{const{data:t,status:n}=await(0,j.ZL)();200===n&&e(c.n.setClients(t))}catch(t){console.error(t)}},m=()=>async e=>{try{const{data:t,status:n}=await(0,j.UH)();200===n&&e(c.n.setResellers(t))}catch(t){console.error(t)}},Z=()=>async e=>{try{const{data:t,status:n}=await(0,j.i3)();200===n&&e(c.n.setTJBoxs(t))}catch(t){console.error(t)}},f=()=>async e=>{try{const{data:t,status:n}=await(0,j._O)();200===n&&e(c.n.setCables(t))}catch(t){console.error(t)}};var v=n(3994),y=n(4863),C=n(5527),b=n(7303),w=n(6593),I=n(5638),k=n(184);const E=[{key:1,text:"OLT",value:"OLT"},{key:2,text:"Switch",value:"Switch"}],P=e=>{let{show:t,setShow:n}=e;const d=(0,o.I0)(),u=(0,o.v9)((e=>e.map.latlang)),[x,p]=(0,r.useState)(""),[m,Z]=(0,r.useState)(""),[f,P]=(0,r.useState)(""),[B,D]=(0,r.useState)(""),[R,S]=(0,r.useState)(""),[T,M]=(0,r.useState)(""),z=()=>{p(""),Z(""),P(""),D(""),S(""),M("")};return(0,k.jsx)(v.Z,{as:a.Z,animation:"overlay",vertical:!0,visible:t,direction:"right",style:{background:"#ffffff",width:"30%",padding:"1rem"},children:(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(y.Z,{as:"h3",dividing:!0,children:[(0,k.jsx)(h.Z,{size:"tiny",link:!0,name:"close",onClick:()=>n(!1)}),(0,k.jsx)(y.Z.Content,{children:"Create Pop"})]})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsxs)(s.Z.Column,{children:[(0,k.jsx)(l.Z,{info:!0,children:"Please click on the map to get coordinate "}),(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(x))return void b.Am.error("Please enter Identifier");if((0,I.Z)(m))return void b.Am.error("Please enter pop name");if((0,I.Z)(f))return void b.Am.error("Please enter address");if(null===u)return void b.Am.error("Click on map to select location");if((0,I.Z)(T))return void b.Am.error("Please select pop type");const t={identifier:x,name:m,pop_type:T,marker:{type:"POP",latitude:u.lat,longitude:u.lng,address:f,notes:B,description:R}},r=await(0,j.$D)(t);201===r.status&&(d(c.n.updateLatLang(null)),d(g()),n(!1),b.Am.success("Pop Created successfully"),z()),r.error&&(0,w.Z)(r.error)},onReset:z,noValidate:!0,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:x,onChange:e=>p(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Name"}),(0,k.jsx)("input",{placeholder:"Pop name",value:m,onChange:e=>Z(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Type"}),(0,k.jsx)(i.Z,{fluid:!0,options:E,selection:!0,value:T,onChange:(e,t)=>{let{value:n}=t;M(n)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Latitude"}),(0,k.jsx)("input",{disabled:!0,value:u?u.lat:""})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Longitude"}),(0,k.jsx)("input",{disabled:!0,value:u?u.lng:""})]}),(0,k.jsx)(C.Z.TextArea,{required:!0,label:"Address",value:f,onChange:e=>P(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Note",value:B,onChange:e=>D(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Description",value:R,onChange:e=>S(e.target.value)}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})]})})]})})},B=()=>{const e=(0,o.I0)(),[t,n]=(0,r.useState)(!1),l=(0,o.v9)((e=>e.map.pops)),{map:a}=(0,d.f)(),[i,j]=(0,r.useState)(""),g=null===l||void 0===l?void 0:l.filter((e=>e.identifier.toLowerCase().includes(i.toLowerCase())));return(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(P,{show:t,setShow:n}),(0,k.jsx)(s.Z.Row,{style:{marginTop:"20px"},children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(u.Z,{fluid:!0,placeholder:"Search...",value:i,icon:(0,k.jsx)(h.Z,{name:"close",size:"small",link:!0,onClick:()=>j("")}),onChange:e=>j(e.target.value)})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(x.Z,{divided:!0,relaxed:!0,style:{overflow:"auto",maxHeight:"45vh"},children:null===g||void 0===g?void 0:g.map((t=>(0,k.jsxs)(x.Z.Item,{style:{cursor:"pointer"},onClick:()=>{e(c.n.setModelLatlang({lat:t.latitude,lng:t.longitude})),a.flyTo([t.latitude,t.longitude])},children:[(0,k.jsx)(x.Z.Icon,{name:"building",size:"large",verticalAlign:"middle"}),(0,k.jsx)(x.Z.Content,{children:(0,k.jsx)(x.Z.Header,{children:t.identifier})})]},t.identifier+t.id)))})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{e(c.n.setDrawLine(null)),n(!0)},children:"Create new Pop"})})})]})},D=e=>{let{show:t,setShow:n}=e;const i=(0,o.I0)(),d=(0,o.v9)((e=>e.map.latlang)),[u,x]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[Z,f]=(0,r.useState)(""),[E,P]=(0,r.useState)(""),[B,D]=(0,r.useState)(""),[R,S]=(0,r.useState)(""),T=()=>{x(""),m(""),f(""),P(""),D(""),S("")};return(0,k.jsx)(v.Z,{as:a.Z,animation:"overlay",vertical:!0,visible:t,direction:"right",style:{background:"#ffffff",width:"30%",padding:"1rem"},children:(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(y.Z,{as:"h3",dividing:!0,children:[(0,k.jsx)(h.Z,{size:"tiny",link:!0,name:"close",onClick:()=>n(!1)}),(0,k.jsx)(y.Z.Content,{children:"Create Client"})]})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsxs)(s.Z.Column,{children:[(0,k.jsx)(l.Z,{info:!0,children:"Please click on the map to get coordinate "}),(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(u))return void b.Am.error("Please enter Identifier");if((0,I.Z)(g))return void b.Am.error("Please enter client name");if((0,I.Z)(Z))return void b.Am.error("Please enter mobile number");if((0,I.Z)(E))return void b.Am.error("Please enter address");if(null===d)return void b.Am.error("Click on map to select location");const t={identifier:u,name:g,marker:{type:"CLIENT",latitude:null===d||void 0===d?void 0:d.lat,longitude:null===d||void 0===d?void 0:d.lng,address:E,notes:B,description:R},mobile_number:Z},r=await(0,j.eI)(t);201===r.status&&(i(c.n.updateLatLang(null)),i(p()),n(!1),b.Am.success("Client created successfully"),T()),r.error&&(0,w.Z)(r.error)},onReset:T,noValidate:!0,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:u,onChange:e=>x(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Name"}),(0,k.jsx)("input",{placeholder:"Client name",value:g,onChange:e=>m(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Mobile Number"}),(0,k.jsx)("input",{placeholder:"01734567890",value:Z,onChange:e=>f(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Latitude"}),(0,k.jsx)("input",{value:d?d.lat:"",disabled:!0})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Longitude"}),(0,k.jsx)("input",{value:d?d.lng:"",disabled:!0})]}),(0,k.jsx)(C.Z.TextArea,{required:!0,label:"Address",value:E,onChange:e=>P(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Note",value:B,onChange:e=>D(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Description",value:R,onChange:e=>S(e.target.value)}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})]})})]})})},R=()=>{const e=(0,o.I0)(),t=(0,o.v9)((e=>e.map.clients)),{map:n}=(0,d.f)(),[l,a]=(0,r.useState)(!1),[i,j]=(0,r.useState)(""),g=null===t||void 0===t?void 0:t.filter((e=>e.identifier.toLowerCase().includes(i.toLowerCase())));return(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(D,{show:l,setShow:a}),(0,k.jsx)(s.Z.Row,{style:{marginTop:"20px"},children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(u.Z,{fluid:!0,placeholder:"Search...",value:i,icon:(0,k.jsx)(h.Z,{name:"close",size:"small",link:!0,onClick:()=>j("")}),onChange:e=>j(e.target.value)})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(x.Z,{divided:!0,relaxed:!0,style:{overflow:"auto",maxHeight:"45vh"},children:null===g||void 0===g?void 0:g.map((t=>(0,k.jsxs)(x.Z.Item,{style:{cursor:"pointer"},onClick:()=>{e(c.n.setModelLatlang({lat:t.latitude,lng:t.longitude})),n.flyTo([t.latitude,t.longitude])},children:[(0,k.jsx)(x.Z.Icon,{name:"home",size:"large",verticalAlign:"middle"}),(0,k.jsx)(x.Z.Content,{children:(0,k.jsx)(x.Z.Header,{children:t.identifier})})]},t.identifier+t.id)))})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{e(c.n.setDrawLine(null)),a(!0)},children:"Create new Client"})})})]})},S=e=>{let{show:t,setShow:n}=e;const i=(0,o.I0)(),d=(0,o.v9)((e=>e.map.latlang)),[u,x]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[m,f]=(0,r.useState)(""),[E,P]=(0,r.useState)(""),[B,D]=(0,r.useState)(""),R=()=>{x(""),p(""),f(""),P(""),D("")};return(0,k.jsx)(v.Z,{as:a.Z,animation:"overlay",vertical:!0,visible:t,direction:"right",style:{background:"#ffffff",width:"30%",padding:"1rem"},children:(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(y.Z,{as:"h3",dividing:!0,children:[(0,k.jsx)(h.Z,{size:"tiny",link:!0,name:"close",onClick:()=>n(!1)}),(0,k.jsx)(y.Z.Content,{children:"Create Tj Box"})]})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsxs)(s.Z.Column,{children:[(0,k.jsx)(l.Z,{info:!0,children:"Please click on the map to get coordinate "}),(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(u))return void b.Am.error("Please enter Identifier");if((0,I.Z)(g))return void b.Am.error("Please enter TJ Box name");if((0,I.Z)(m))return void b.Am.error("Please enter address");if(null===d)return void b.Am.error("Click on map to select location");const t={identifier:u,name:g,marker:{type:"TJ_BOX",latitude:d.lat,longitude:d.lng,address:m,notes:E,description:B}},r=await(0,j.Bu)(t);201===r.status&&(i(c.n.updateLatLang(null)),i(Z()),n(!1),b.Am.success("TJ Box Created successfully"),R()),r.error&&(0,w.Z)(r.error)},onReset:R,noValidate:!0,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:u,onChange:e=>x(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Name"}),(0,k.jsx)("input",{placeholder:"TJ Box name",value:g,onChange:e=>p(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Latitude"}),(0,k.jsx)("input",{disabled:!0,value:d?d.lat:""})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Longitude"}),(0,k.jsx)("input",{disabled:!0,value:d?d.lng:""})]}),(0,k.jsx)(C.Z.TextArea,{required:!0,label:"Address",value:m,onChange:e=>f(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Note",value:E,onChange:e=>P(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Description",value:B,onChange:e=>D(e.target.value)}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})]})})]})})},T=()=>{const e=(0,o.I0)(),t=(0,o.v9)((e=>e.map.tjboxs)),{map:n}=(0,d.f)(),[l,a]=(0,r.useState)(!1),[i,j]=(0,r.useState)(""),g=null===t||void 0===t?void 0:t.filter((e=>e.identifier.toLowerCase().includes(i.toLowerCase())));return(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(S,{show:l,setShow:a}),(0,k.jsx)(s.Z.Row,{style:{marginTop:"20px"},children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(u.Z,{fluid:!0,placeholder:"Search...",value:i,icon:(0,k.jsx)(h.Z,{name:"close",size:"small",link:!0,onClick:()=>j("")}),onChange:e=>j(e.target.value)})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(x.Z,{divided:!0,relaxed:!0,style:{overflow:"auto",maxHeight:"45vh"},children:null===g||void 0===g?void 0:g.map((t=>(0,k.jsxs)(x.Z.Item,{style:{cursor:"pointer"},onClick:()=>{e(c.n.setModelLatlang({lat:t.latitude,lng:t.longitude})),n.flyTo([t.latitude,t.longitude])},children:[(0,k.jsx)(x.Z.Icon,{name:"deviantart",size:"large",verticalAlign:"middle"}),(0,k.jsx)(x.Z.Content,{children:(0,k.jsx)(x.Z.Header,{children:t.identifier})})]},t.identifier+t.id)))})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{e(c.n.setDrawLine(null)),a(!0)},children:"Create new TJ Box"})})})]})},M=e=>{let{show:t,setShow:n}=e;const i=(0,o.I0)(),d=(0,o.v9)((e=>e.map.latlang)),[u,x]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[Z,f]=(0,r.useState)(""),[E,P]=(0,r.useState)(""),[B,D]=(0,r.useState)(""),[R,S]=(0,r.useState)(""),T=()=>{x(""),p(""),f(""),P(""),D(""),S("")};return(0,k.jsx)(v.Z,{as:a.Z,animation:"overlay",vertical:!0,visible:t,direction:"right",style:{background:"#ffffff",width:"30%",padding:"1rem"},children:(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(y.Z,{as:"h3",dividing:!0,children:[(0,k.jsx)(h.Z,{size:"tiny",link:!0,name:"close",onClick:()=>n(!1)}),(0,k.jsx)(y.Z.Content,{children:"Create Reseller"})]})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsxs)(s.Z.Column,{children:[(0,k.jsx)(l.Z,{info:!0,children:"Please click on the map to get coordinate "}),(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(u))return void b.Am.error("Please enter Identifier");if((0,I.Z)(g))return void b.Am.error("Please enter reseller name");if((0,I.Z)(Z))return void b.Am.error("Please enter mobile number");if((0,I.Z)(E))return void b.Am.error("Please enter address");if(null===d)return void b.Am.error("Click on map to select location");const t={identifier:u,name:g,marker:{type:"RESELLER",latitude:null===d||void 0===d?void 0:d.lat,longitude:null===d||void 0===d?void 0:d.lng,address:E,notes:B,description:R},mobile_number:Z},r=await(0,j.tr)(t);201===r.status&&(i(c.n.updateLatLang(null)),i(m()),n(!1),b.Am.success("Reseller created successfully"),T()),r.error&&(0,w.Z)(r.error)},onReset:T,noValidate:!0,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:u,onChange:e=>x(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Name"}),(0,k.jsx)("input",{placeholder:"Reseller name",value:g,onChange:e=>p(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Mobile Number"}),(0,k.jsx)("input",{placeholder:"01734567890",value:Z,onChange:e=>f(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Latitude"}),(0,k.jsx)("input",{value:d?d.lat:"",disabled:!0})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Longitude"}),(0,k.jsx)("input",{value:d?d.lng:"",disabled:!0})]}),(0,k.jsx)(C.Z.TextArea,{required:!0,label:"Address",value:E,onChange:e=>P(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Note",value:B,onChange:e=>D(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Description",value:R,onChange:e=>S(e.target.value)}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})]})})]})})},z=()=>{const e=(0,o.I0)(),t=(0,o.v9)((e=>e.map.resellers)),{map:n}=(0,d.f)(),[l,a]=(0,r.useState)(!1),[i,j]=(0,r.useState)(""),g=null===t||void 0===t?void 0:t.filter((e=>e.identifier.toLowerCase().includes(i.toLowerCase())));return(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(M,{show:l,setShow:a}),(0,k.jsx)(s.Z.Row,{style:{marginTop:"20px"},children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(u.Z,{fluid:!0,placeholder:"Search...",value:i,icon:(0,k.jsx)(h.Z,{name:"close",size:"small",link:!0,onClick:()=>j("")}),onChange:e=>j(e.target.value)})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(x.Z,{divided:!0,relaxed:!0,style:{overflow:"auto",maxHeight:"45vh"},children:null===g||void 0===g?void 0:g.map((t=>(0,k.jsxs)(x.Z.Item,{style:{cursor:"pointer"},onClick:()=>{e(c.n.setModelLatlang({lat:t.latitude,lng:t.longitude})),n.flyTo([t.latitude,t.longitude])},children:[(0,k.jsx)(x.Z.Icon,{name:"home",size:"large",verticalAlign:"middle"}),(0,k.jsx)(x.Z.Content,{children:(0,k.jsx)(x.Z.Header,{children:t.identifier})})]},t.identifier+t.id)))})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{e(c.n.setDrawLine(null)),a(!0)},children:"Create new Reseller"})})})]})},F=[{key:1,text:"Pop",value:1},{key:2,text:"Client",value:2},{key:3,text:"Tj Box",value:3},{key:4,text:"Reseller",value:4}],G=()=>{const[e,t]=(0,r.useState)(1),n={1:B,2:R,3:T,4:z}[e];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Z,{fluid:!0,onChange:(e,n)=>{let{value:r}=n;t(r)},options:F,selection:!0,value:e}),n&&(0,k.jsx)(n,{})]})},L=[{key:1,text:"Pop",value:"POP"},{key:2,text:"Client",value:"CLIENT"},{key:3,text:"Tj Box",value:"TJ_BOX"},{key:4,text:"Reseller",value:"RESELLER"}],Q=e=>{let{getValue:t}=e;const[n,s]=(0,r.useState)(null);return(0,k.jsx)(i.Z,{fluid:!0,onChange:(e,n)=>{let{value:r}=n;s(r),t(r)},options:L,selection:!0,value:n})},N=e=>{let{getValue:t,optionsType:n}=e;const s=(0,o.v9)((e=>e.map.clients)),l=(0,o.v9)((e=>e.map.pops)),a=(0,o.v9)((e=>e.map.tjboxs)),c=(0,o.v9)((e=>e.map.resellers)),[d,u]=(0,r.useState)(null),h={CLIENT:s,POP:l,TJ_BOX:a,RESELLER:c};(0,r.useEffect)((()=>{u(null)}),[n]);const x=h[n]?h[n].map((e=>({key:e.id,text:e.identifier,value:e.id}))):[];return(0,k.jsx)(i.Z,{selection:!0,fluid:!0,labeled:!0,options:x,search:!0,onChange:(e,n)=>{let{value:r}=n;u(r),t(r)},placeholder:"Select starting point",value:d})},H=r.memo(N),J=[{key:"1",text:"Fiber",value:"FIBER"},{key:"2",text:"CAT 6",value:"CAT-6"},{key:"3",text:"Main Line",value:"MAIN_LINE"}],O=[{key:"1",text:"2",value:"2"},{key:"2",text:"4",value:"4"},{key:"6",text:"6",value:"6"},{key:"3",text:"8",value:"8"},{key:"4",text:"12",value:"12"},{key:"5",text:"24",value:"24"},{key:"7",text:"48",value:"48"}],Y=e=>{let{visible:t}=e;const n=(0,o.I0)(),l=(0,o.v9)((e=>e.map.drawLine)),[d,u]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[Z,E]=(0,r.useState)(""),[P,B]=(0,r.useState)(""),[D,R]=(0,r.useState)(""),[S,T]=(0,r.useState)(""),[M,z]=(0,r.useState)(""),[F,G]=(0,r.useState)(""),[L,N]=(0,r.useState)(""),Y=()=>{u(""),g(""),m(""),z(""),G(""),N("")};return(0,k.jsx)(v.Z,{as:a.Z,animation:"overlay",vertical:!0,visible:t,direction:"right",style:{background:"#ffffff",width:"30%",padding:"1rem"},children:(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(y.Z,{as:"h3",dividing:!0,children:[(0,k.jsx)(h.Z,{size:"tiny",link:!0,name:"close",onClick:()=>n(c.n.setDrawLine(null))}),(0,k.jsx)(y.Z.Content,{children:"Create Cable"})]})})}),(0,k.jsx)(s.Z.Row,{children:(0,k.jsx)(s.Z.Column,{children:(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(d))b.Am.error("Please enter Identifier");else if((0,I.Z)(x))b.Am.error("Please select cable type");else if(""!==p)if((0,I.Z)(Z))b.Am.error("Please select start from");else if(P)if((0,I.Z)(D))b.Am.error("Please select end from");else if(S)if((0,I.Z)(M))b.Am.error("Please enter cable length in meters");else try{const e={identifier:d,type:x,start_from:Z,starting_point:P,end_to:D,ending_point:S,number_of_cores:p,length:M,notes:F,description:L,polyline:l},t=await(0,j.tx)(e);201===t.status&&(n(c.n.setDrawLine(null)),n(f()),b.Am.success("Cable created successfully"),Y()),t.error&&(0,w.Z)(t.error)}catch(t){console.log(t)}else b.Am.error("Please select ending point");else b.Am.error("Please select starting point");else b.Am.error("Please select cable core")},onReset:Y,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Cable ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:d,onChange:e=>u(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Type"}),(0,k.jsx)(i.Z,{fluid:!0,selection:!0,options:J,value:x,onChange:(e,t)=>{let{value:n}=t;return g(n)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Start from"}),(0,k.jsx)(Q,{getValue:e=>{E(e),B(null)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Starting Point"}),(0,k.jsx)(H,{getValue:B,optionsType:Z})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"End from"}),(0,k.jsx)(Q,{getValue:e=>{R(e),T(null)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Ending Point"}),(0,k.jsx)(H,{getValue:T,optionsType:D})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Core"}),(0,k.jsx)(i.Z,{fluid:!0,selection:!0,options:O,value:p,onChange:(e,t)=>{let{value:n}=t;return m(n)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Length (meter)"}),(0,k.jsx)("input",{placeholder:"10",onChange:e=>z(e.target.value),value:M})]}),(0,k.jsx)(C.Z.TextArea,{label:"Note",value:F,onChange:e=>G(e.target.value)}),(0,k.jsx)(C.Z.TextArea,{label:"Description",value:L,onChange:e=>N(e.target.value)}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})})})]})})},q=r.memo(Y);var K=n(5259),U=n(4993),X=n(6293),V=n(6042);const W=function(){const e=(0,o.v9)((e=>e.map.latlang)),t=(0,o.I0)();return(0,X.zV)({click(e){t(c.n.updateLatLang({lat:e.latlng.lat,lng:e.latlng.lng}))}}),null===e?null:(0,k.jsx)(V.J,{position:e})},_={rectangle:!1,circle:!1,circlemarker:!1,polygon:!1,marker:!1},$=()=>{const e=(0,o.I0)(),[t,n]=(0,r.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(K.$,{children:(0,k.jsx)(U.$,{position:"topright",onCreated:t=>{const n=t.layer._latlngs.map((e=>({lat:e.lat,lng:e.lng})));e(c.n.setDrawLine(n))},draw:_,onDrawStart:()=>{n(!0),e(c.n.updateLatLang(null))},onDrawStop:()=>n(!1),edit:{edit:!1}})}),!t&&(0,k.jsx)(W,{})]})};var ee=n(5758),te=n(9500),ne=n(9547),re=n(6731),se=n(6574),le=n(2435),ae=n(8802),ie=n(4448),oe=n(3108),ce=n(4488),de=n(3790);const ue=[{key:"1",text:"Fiber",value:"FIBER"},{key:"2",text:"CAT 6",value:"CAT-6"},{key:"3",text:"Main Line",value:"MAIN_LINE"}],he=e=>{let{cableId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,a]=(0,r.useState)(!1),c=(0,r.useRef)(),d=(0,r.useRef)(),u=(0,r.useRef)(),h=(0,r.useRef)(),[x,g]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1);(0,r.useEffect)((()=>{Z()}),[]);const Z=async()=>{const{data:e,status:n,error:r}=await(0,j.OL)(t);200===n&&(c.current.value=e.identifier,d.current.value=e.length,u.current.value=e.notes,h.current.value=e.description,g(e.type)),r&&(0,w.Z)(r)};return(0,k.jsxs)(C.Z,{children:[(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{readOnly:!l,ref:c})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Type"}),(0,k.jsx)(i.Z,{fluid:!0,options:ue,selection:!0,value:x,onChange:(e,t)=>{let{value:n}=t;g(n)},disabled:!l})]})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Length"}),(0,k.jsx)("input",{ref:d,readOnly:!l})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Notes"}),(0,k.jsx)("textarea",{name:"notes",readOnly:!l,ref:u,rows:3})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Description"}),(0,k.jsx)("textarea",{name:"description",ref:h,readOnly:!l,rows:3})]}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[l?(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:async()=>{const e={identifier:c.current.value,type:x,length:d.current.value,notes:u.current.value,description:h.current.value},n=await(0,j.hn)(t,e);200===n.status&&(a(!1),b.Am.success("Cable details updated successfully."),s(f())),n.error&&(0,w.Z)(n.error)},children:"Save"}):(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{a(!0),c.current.focus(),b.Am.info("You can now edit the cable details.")},children:"Edit"}),(0,k.jsx)(A.Z,{fluid:!0,color:"red",onClick:()=>{m(!0)},children:"Delete"})]}),(0,k.jsx)(de.Z,{className:"secondary",open:p,cancelButton:"No",confirmButton:"Yes",onCancel:()=>m(!1),onConfirm:()=>{m(!1),(async()=>{const e=await(0,j.nT)(t);204===e.status&&(n(),b.Am.success("Cable deleted successfully."),s(f())),e.error&&(0,w.Z)(e.error)})()}})]})};var xe=n(4958),Ae=n(9753);const je=e=>{let{cableId:t}=e;const[n,l]=(0,r.useState)({});return(0,r.useEffect)((()=>{(async()=>{const e=await(0,j.OL)(t);200===e.status&&l(e.data),e.error&&(0,w.Z)(e.error)})()}),[]),(0,k.jsxs)(s.Z,{stackable:!0,style:{marginLeft:"10%"},children:[(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"ID :"}),n.identifier]}),(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Type :"}),n.type]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Start from :"}),n.start_from]}),(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Starting point :"}),n.starting_point]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"End_to :"}),n.end_to]}),(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Ending point :"}),n.ending_point]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Number of cores :"}),n.number_of_cores]}),(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Length :"}),n.length]})]}),(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Notes:"}),(0,k.jsx)("span",{style:{overflowWrap:"break-word"},children:n.notes})]}),(0,k.jsxs)(Ae.Z,{width:8,children:[(0,k.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px",fontSize:"1.1rem"},children:"Description:"}),(0,k.jsx)("span",{style:{overflowWrap:"break-word"},children:n.description})]})]})]})};var ge=n(9620),pe=n(9961),me=n(7626),Ze=n(8559),fe=n.n(Ze);const ve=n.p+"static/media/client.c3a2524ae96d6208174f.png",ye=n.p+"static/media/office.7db1e899af1df8c1d35d.png",Ce=n.p+"static/media/gpon.162f2877aaab2b82a7ad.png",be=n.p+"static/media/reseller.54f7d8b5eca83a8d6b99.png",we=n.p+"static/media/location.c1fe9a7872a44a0e7c34.png",Ie=new Ze.Icon({iconUrl:ye,iconSize:[28,28]}),ke=new Ze.Icon({iconUrl:ve,iconSize:[34,55],popupAnchor:[0,-40],iconAnchor:[17.5,52.5]}),Ee=new Ze.Icon({iconUrl:"data:image/png;base64,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",iconSize:[28,28]}),Pe=(new Ze.Icon({iconUrl:Ce,iconSize:[28,28]}),new Ze.Icon({iconUrl:we,iconSize:[30,30],iconAnchor:[15,28]})),Be=new Ze.Icon({iconUrl:be,iconSize:[28,28]});var De=n(6404),Re=n.n(De);const Se={2:"#0000FF",4:"#FF0000",6:"#000000",8:"#800080",12:"#FFA500",24:"#FFFF00",48:"#008000"},Te=e=>{let{cableId:t,polyline:n,numberOfCores:a,modalClose:i}=e;const{BaseLayer:c}=ge.LayersControl,[d,u]=(0,r.useState)(null),h=(0,o.I0)(),[x,g]=(0,r.useState)([]),[p,m]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),E=e=>{const t=((e,t)=>{const n=t._latlngs;let r=[];for(let s=0;s<n.length-1;s++){const l=Re().distanceSegment(t._map,e,n[s],n[s+1]);r.push({index:s,pointToLineDistance:l,segment:[n[s],n[s+1]]})}return r.sort(((e,t)=>e.pointToLineDistance<t.pointToLineDistance?-1:1)),r[0]})(e.latlng,e.sourceTarget);u({lat:e.latlng.lat,lng:e.latlng.lng}),u(e.latlng),g([t])},P=()=>{m(""),y("")};return(0,k.jsx)(s.Z,{stackable:!0,children:(0,k.jsxs)(xe.Z,{children:[(0,k.jsx)(Ae.Z,{width:10,children:(0,k.jsxs)(pe.h,{center:{lat:n[Math.floor(n.length/2)].lat,lng:n[Math.floor(n.length/2)].lng},zoom:18,zoomControl:!1,style:{height:"400px",width:"100%"},children:[(0,k.jsxs)(ge.LayersControl,{position:"topright",children:[(0,k.jsx)(c,{checked:!0,name:"Satellite View",children:(0,k.jsx)(me.I,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]})}),(0,k.jsx)(c,{name:"Street View",children:(0,k.jsx)(me.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]})})]}),(0,k.jsx)(ee.a,{pathOptions:{color:Se[a],weight:5},positions:n,eventHandlers:{click:e=>E(e)}}),d&&(0,k.jsx)(V.J,{icon:Pe,position:d})]})}),(0,k.jsxs)(Ae.Z,{width:6,children:[(0,k.jsx)(l.Z,{info:!0,children:"Please click on the cable to get coordinate "}),(0,k.jsxs)(C.Z,{onSubmit:async e=>{if(e.preventDefault(),(0,I.Z)(p))return void b.Am.error("Please enter Identifier");if((0,I.Z)(v))return void b.Am.error("Please enter cable name");if(null===d)return void b.Am.error("Click on map to select location");const n={push_index:x[0].index,divider_point:[d.lat,d.lng],tjbox_id:p,tjbox_name:v},r=await(0,j.kQ)(t,n);200===r.status&&(P(),h(f()),h(Z()),i(),b.Am.success("Cable cut successfully")),r.error&&(0,w.Z)(r.error)},onReset:P,noValidate:!0,children:[(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"ID"}),(0,k.jsx)("input",{placeholder:"Must be unique",value:p,onChange:e=>m(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Name"}),(0,k.jsx)("input",{placeholder:"TJ Box name",value:v,onChange:e=>y(e.target.value)})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Latitude"}),(0,k.jsx)("input",{value:d?d.lat:"",disabled:!0})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Longitude"}),(0,k.jsx)("input",{value:d?d.lng:"",disabled:!0})]}),(0,k.jsx)(A.Z,{secondary:!0,type:"submit",children:"Submit"}),(0,k.jsx)(A.Z,{color:"red",type:"reset",children:"Clear"})]})]})]})})},Me=e=>{let{cableId:t,polyline:n,numberOfCores:r,onClose:s}=e;const l=[{menuItem:"Details",render:()=>(0,k.jsx)(re.Z,{as:a.Z,children:(0,k.jsx)(je,{cableId:t})})},{menuItem:"Edit",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(he,{cableId:t,modalClose:s})})},{menuItem:"Cable Cut",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,children:(0,k.jsx)(Te,{cableId:t,polyline:n,numberOfCores:r,modalClose:s})})}];return(0,k.jsxs)(se.Z,{open:!0,onClose:s,size:"large",children:[(0,k.jsx)(le.Z,{children:"Cable "}),(0,k.jsx)(ae.Z,{children:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(oe.Z,{menu:{secondary:!0,pointing:!0},panes:l})})}),(0,k.jsx)(ce.Z,{children:(0,k.jsxs)(A.Z,{onClick:s,secondary:!0,children:["Close ",(0,k.jsx)(h.Z,{name:"chevron right"})]})})]})},ze={2:"#0000FF",4:"#FF0000",6:"#000000",8:"#800080",12:"#FFA500",24:"#FFFF00",48:"#008000"},Fe=()=>{const e=(0,o.v9)((e=>e.map.cables)),[t,n]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[a,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(null);return(0,k.jsxs)(k.Fragment,{children:[t&&(0,k.jsx)(Me,{numberOfCores:c,cableId:s,onClose:()=>n(!1),polyline:a}),null===e||void 0===e?void 0:e.map((e=>(0,k.jsx)(ee.a,{pathOptions:{color:ze[e.number_of_cores],weight:3},positions:e.polyline,eventHandlers:{mouseover:e=>e.target.openPopup(),mouseout:e=>e.target.closePopup(),click:t=>{n(!0),l(e.id),i(e.polyline),d(e.number_of_cores)}},children:(0,k.jsx)(te.G,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"ID:"})," ",e.identifier]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Core:"})," ",e.number_of_cores]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Type:"})," ",e.type]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Length:"})," ",e.length," (meter)"]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Starting point:"})," ",e.starting_point]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Ending point:"})," ",e.ending_point]})]})})},e.id)))]})},Ge=(0,r.memo)(Fe);var Le=n(3753);const Qe={blue:"\u09a8\u09c0\u09b2",orange:"\u0995\u09ae\u09b2\u09be",green:"\u09b8\u09ac\u09c1\u099c",brown:"\u09ac\u09be\u09a6\u09be\u09ae\u09bf",grey:"\u09a7\u09c2\u09b8\u09b0",white:"\u09b8\u09be\u09a6\u09be",red:"\u09b2\u09be\u09b2",black:"\u0995\u09be\u09b2\u09cb",yellow:"\u09b9\u09b2\u09c1\u09a6",violet:"\u09ac\u09c7\u0997\u09c1\u09a8\u09bf",pink:"\u0997\u09cb\u09b2\u09be\u09aa\u09c0",aqua:"\u09aa\u09be\u09a8\u09bf\u09b0\u0999"},Ne=e=>{let{popId:t}=e;const[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)({left:null,right:null}),[d,u]=(0,r.useState)([]),[h,x]=(0,r.useState)([]);(0,r.useEffect)((()=>{g(t)}),[]);const g=async e=>{try{const{data:t,status:n}=await(0,j.xw)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}},p=async(e,n)=>{try{const{data:r,status:s}=await(0,j.vY)(e,n);200===s&&g(t)}catch(r){return{data:null,status:null,error:r}}},m=()=>{x([]),u([]),c({left:null,right:null})};return(0,k.jsxs)(k.Fragment,{children:[o.left&&(0,k.jsxs)(a.Z,{textAlign:"center",children:[(0,k.jsxs)(Le.Z,{horizontal:!0,children:[(0,k.jsx)(a.Z,{children:(0,k.jsx)(y.Z,{as:"h4",children:o.left&&"Cable : ".concat(o.left.cableIdentifier," | Core :  (").concat(Qe[o.left.color],")")})}),(0,k.jsx)(a.Z,{children:"----- Connected with -----"}),(0,k.jsx)(a.Z,{secondary:!0,children:(0,k.jsx)(y.Z,{as:"h4",disabled:!o.right,children:o.right?"Cable : ".concat(o.right.cableIdentifier," | Core : (").concat(Qe[o.right.color],")"):"SELECT ANOTHER TO CONNECT"})})]}),o.left&&o.right&&(0,k.jsx)(A.Z,{positive:!0,onClick:async()=>{if(!o.left||!o.right)return;const e={core_from:o.left.coreId,core_to:o.right.coreId};try{const{status:n}=await(0,j.WI)(e);201===n&&(g(t),m())}catch(n){return{data:null,status:null,error:n}}},children:"Connect"}),(0,k.jsx)(A.Z,{negative:!0,onClick:m,children:"Reset"})]}),n&&n.length>0?(0,k.jsx)(s.Z,{columns:2,children:null===n||void 0===n?void 0:n.map(((e,r)=>{var s;return(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:5,children:[(0,k.jsx)(l.Z,{attached:!0,header:"cable details"}),(0,k.jsxs)(a.Z,{attached:!0,children:[(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE ID : "})," ",e.identifier]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Total Core : "}),e.number_of_cores]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Cable length : "}),e.length]})]})]}),(0,k.jsxs)(Ae.Z,{width:11,children:[(0,k.jsx)(l.Z,{attached:!0,header:"core details"}),(0,k.jsx)(a.Z,{attached:!0,textAlign:"center",children:null===(s=e.cores)||void 0===s?void 0:s.map((r=>(0,k.jsx)("p",{onClick:()=>(async(e,t)=>{const r=n.find((t=>t.id===e)).cores.find((e=>e.id===t));r.connected_to&&u([r.connected_to.id,t])})(e.id,r.id),style:d.includes(r.id)?{backgroundColor:"#1EA1A1"}:null,children:(0,k.jsxs)("span",{style:o.left&&o.left.coreId===r.id||o.right&&o.right.coreId===r.id?{display:"block",backgroundColor:"#90EE90"}:{},children:[(0,k.jsxs)("b",{children:["CORE : ",Qe[r.color]]})," \xa0 \xa0",!r.assigned&&!r.connected_to&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,children:"Unused"})," ",(0,k.jsx)(A.Z,{compact:!0,color:"blue",disabled:h.includes(r.id),onClick:()=>{(async e=>{if(o.left&&o.right)return;o.left?c((t=>({...t,right:e}))):c((t=>({...t,left:e})));const t=n.find((t=>t.id===e.cableId)).cores.map((e=>e.id));x((e=>[...e,...t]))})({cableId:e.id,cableIdentifier:e.identifier,coreId:r.id,color:r.color})},children:"Select"})," ",(0,k.jsx)(A.Z,{compact:!0,color:"blue",disabled:h.includes(r.id),onClick:()=>p(r.id,{assigned:!0}),children:"Assign"})]}),r.connected_to&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"green",children:"Connected"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>{(async(e,n)=>{const r={core_from:e,core_to:n};try{const{status:e}=await(0,j.n8)(r);204===e&&(m(),g(t))}catch(s){return{data:null,status:null,error:s}}})(r.id,r.connected_to.id)},children:"Disconnect"})]}),r.assigned&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"green",children:"Used"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>p(r.id,{assigned:!1}),children:"Withdraw"})]})]},r.id)},r.id)))})]})]},r)}))}):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No data to show"})]})},He={textAlign:"center",padding:"0",paddingTop:"1px",paddingBottom:"1px",whiteSpace:"nowrap"},Je=e=>{let{path:t}=e;return(0,k.jsxs)("div",{style:{display:"flex",marginTop:"5px",marginBottom:"5rem"},children:[(0,k.jsxs)("div",{style:{flex:1},children:[(0,k.jsx)(a.Z,{basic:!0,style:He,children:"Model"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Cable ID"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Name"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Color"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Core"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Distance"})]}),t.path_direction.map(((e,t)=>(0,k.jsxs)("div",{style:{flex:1},children:[(0,k.jsx)(a.Z,{basic:!0,style:He,children:e.model_type+" >"}),(0,k.jsx)(a.Z,{basic:!0,style:{...He,borderTop:"2px solid ".concat(e.color)},children:e.cable_identifier}),(0,k.jsx)(a.Z,{basic:!0,style:{...He,borderTop:"2px solid ".concat(e.color)},children:e.model_identifier}),(0,k.jsx)(a.Z,{basic:!0,style:{...He,borderTop:"2px solid ".concat(e.color)},children:Qe[e.color]}),(0,k.jsx)(a.Z,{basic:!0,style:{...He,borderTop:"2px solid ".concat(e.color)},children:e.total_cable_core}),(0,k.jsx)(a.Z,{basic:!0,style:{...He,borderTop:"2px solid ".concat(e.color)},children:e.cable_length})]},t))),(0,k.jsxs)("div",{style:{flex:1},children:[(0,k.jsx)(a.Z,{basic:!0,style:He,children:"\xa0"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"Total length"}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:t.total_length}),(0,k.jsx)(a.Z,{basic:!0,color:"grey",style:He,children:"\xa0"}),(0,k.jsx)(a.Z,{basic:!0,style:He,children:"\xa0"}),(0,k.jsx)(a.Z,{basic:!0,style:He,children:"\xa0"})]})]})},Oe=e=>{let{popId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{d(t)}),[]);const d=async e=>{try{const{data:t,status:n}=await(0,j.k$)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}};return(0,k.jsx)(k.Fragment,{children:l&&l.length>0?l.map(((e,t)=>(0,k.jsxs)("div",{style:{backgroundColor:"#F0F0F0",padding:"10px",textAlign:"center",marginBottom:"5px"},children:[(0,k.jsx)(A.Z,{style:{margin:"1rem"},onClick:()=>{return t=e.path_direction,s(c.n.setHighlightPath(t)),void n();var t},children:"SHOW THIS PATH ON MAP"}),(0,k.jsx)(Je,{path:e},t)]},t))):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No data to show"})})},Ye=[{key:1,text:"OLT",value:"OLT"},{key:2,text:"Switch",value:"Switch"}],qe=e=>{let{popId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,a]=(0,r.useState)(!1),c=(0,r.useRef)(),[d,u]=(0,r.useState)(""),h=(0,r.useRef)(),x=(0,r.useRef)(),p=(0,r.useRef)(),[m,Z]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{I(t)}),[]);const I=async e=>{const{data:t,status:n,error:r}=await(0,j.CN)(e);200===n&&(c.current.value=t.name,h.current.value=t.marker.address,x.current.value=t.marker.notes,p.current.value=t.marker.description,Z(t.pop_type),u(t.name)),r&&(0,w.Z)(r)};return(0,k.jsxs)(C.Z,{children:[(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Pop Name"}),(0,k.jsx)("input",{name:"name",readOnly:!l,ref:c})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Type"}),(0,k.jsx)(i.Z,{fluid:!0,options:Ye,selection:!0,value:m,onChange:(e,t)=>{let{value:n}=t;Z(n)},disabled:!l})]})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Address"}),(0,k.jsx)("input",{name:"address",ref:h,readOnly:!l})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Notes"}),(0,k.jsx)("textarea",{name:"notes",readOnly:!l,ref:x,rows:3})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Description"}),(0,k.jsx)("textarea",{name:"description",ref:p,readOnly:!l,rows:3})]}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[l?(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:async()=>{const e={name:c.current.value,pop_type:m,marker:{address:h.current.value,notes:x.current.value,description:p.current.value}},n=await(0,j.VW)(t,e);200===n.status&&(a(!1),b.Am.success("Pop details updated successfully."),s(g()),n.data.name!==d&&(u(n.data.name),s(f()))),n.error&&(0,w.Z)(n.error)},children:"Save"}):(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{a(!0),c.current.focus(),b.Am.info("You can now edit the client details.")},children:"Edit"}),(0,k.jsx)(A.Z,{fluid:!0,color:"red",onClick:()=>{y(!0)},children:"Delete"})]}),(0,k.jsx)(de.Z,{className:"secondary",open:v,cancelButton:"No",confirmButton:"Yes",onCancel:()=>y(!1),onConfirm:()=>{y(!1),(async()=>{const e=await(0,j.ce)(t);204===e.status&&(n(),b.Am.success("Pop deleted successfully."),s(g()),s(f())),e.error&&(0,w.Z)(e.error)})()}})]})},Ke=e=>{let{popId:t,popType:n,onClose:r}=e;const s=[{menuItem:"Paths",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(Oe,{popId:t,modalClose:r})})},{menuItem:"Connection",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(Ne,{popId:t})})},{menuItem:"Details",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(qe,{popId:t,modalClose:r})})}];return(0,k.jsxs)(se.Z,{open:!0,onClose:r,size:"large",children:[(0,k.jsxs)(le.Z,{children:[n," Details"]}),(0,k.jsx)(ae.Z,{children:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(oe.Z,{menu:{secondary:!0,pointing:!0},panes:s})})}),(0,k.jsx)(ce.Z,{children:(0,k.jsxs)(A.Z,{onClick:r,secondary:!0,children:["Close ",(0,k.jsx)(h.Z,{name:"chevron right"})]})})]})},Ue=()=>{const e=(0,o.v9)((e=>e.map.pops)),t=(0,X.Sx)(),[n,s]=(0,r.useState)(null),[l,a]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),d=(0,r.useMemo)((()=>null===e||void 0===e?void 0:e.map((e=>(0,k.jsx)(V.J,{icon:Ie,position:[e.latitude,e.longitude],eventHandlers:{mouseover:e=>e.target.openPopup(),mouseout:e=>e.target.closePopup(),click:n=>{c(!0),t.flyTo([e.latitude,e.longitude]),s(e.id),a(e.pop_type)}},children:(0,k.jsx)(te.G,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"ID:"})," ",e.identifier]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Name:"})," ",e.name]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Type:"})," ",e.pop_type]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Address:"})," ",e.address]})]})})},e.id)))),[e]);return(0,k.jsxs)(k.Fragment,{children:[i&&(0,k.jsx)(Ke,{popId:n,popType:l,onClose:()=>c(!1)}),d]})},Xe=e=>{let{tjboxId:t,setLoading:n}=e;const[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)({left:null,right:null}),[x,g]=(0,r.useState)([]),[p,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{Z(t)}),[]);const Z=async e=>{n(!0);try{const{data:t,status:n}=await(0,j.AK)(e);200===n&&(o(t.cables),d(t.splitters))}catch(t){return{data:null,status:null,error:t}}n(!1)},f=async(e,n)=>{const r={core_from:e,core_to:n};try{const{status:e}=await(0,j.n8)(r);204===e&&(C(),Z(t))}catch(s){return{data:null,status:null,error:s}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!u.left||!u.right)if(u.left?h((t=>({...t,right:e}))):h((t=>({...t,left:e}))),t){const e=[];c.forEach((t=>{t.output_cores.forEach((t=>{e.push(t.id)}))})),m((t=>[...t,...e]))}else{const t=i.find((t=>t.id===e.cableId)).cores.map((e=>e.id));m((e=>[...e,...t]))}},C=()=>{m([]),g([]),h({left:null,right:null})},b=async e=>{e.connected_to&&g([e.connected_to.id,e.id])};return(0,k.jsxs)(k.Fragment,{children:[u.left&&(0,k.jsxs)(a.Z,{textAlign:"center",children:[(0,k.jsxs)(Le.Z,{horizontal:!0,children:[(0,k.jsx)(a.Z,{children:(0,k.jsxs)(y.Z,{as:"h4",children:[u.left&&u.left.cableIdentifier&&"Cable ID: ".concat(u.left.cableIdentifier," | Core : ").concat(Qe[u.left.color]),u.left&&!u.left.cableIdentifier&&"Splitter core: ".concat(u.left.coreNumber)]})}),(0,k.jsx)(a.Z,{children:"----- Connected with -----"}),(0,k.jsx)(a.Z,{secondary:!0,children:(0,k.jsx)(y.Z,{as:"h4",disabled:!u.right,children:u.right?u.right.cableIdentifier?"Cable ID: ".concat(u.right.cableIdentifier," | Core : ").concat(Qe[u.right.color]):"Splitter core: ".concat(u.right.coreNumber):"SELECT ANOTHER TO CONNECT"})})]}),u.left&&u.right&&(0,k.jsx)(A.Z,{positive:!0,onClick:async()=>{if(!u.left||!u.right)return;const e={core_from:u.left.coreId,core_to:u.right.coreId};try{const{status:n}=await(0,j.WI)(e);201===n&&(Z(t),C())}catch(n){return{data:null,status:null,error:n}}},children:"Connect"}),(0,k.jsx)(A.Z,{negative:!0,onClick:C,children:"Reset"})]}),(0,k.jsx)(s.Z,{columns:2,children:null===i||void 0===i?void 0:i.map(((e,t)=>{var n;return(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:5,children:[(0,k.jsx)(l.Z,{attached:!0,header:"cable details"}),(0,k.jsxs)(a.Z,{attached:!0,children:[(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE ID : "})," ",e.identifier]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Total Core : "}),e.number_of_cores]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Cable length : "}),e.length]})]})]}),(0,k.jsxs)(Ae.Z,{width:11,children:[(0,k.jsx)(l.Z,{attached:!0,header:"core details"}),(0,k.jsx)(a.Z,{attached:!0,textAlign:"center",children:null===(n=e.cores)||void 0===n?void 0:n.map(((t,n)=>(0,k.jsx)("p",{onClick:()=>b(t),style:x.includes(t.id)?{backgroundColor:"#1EA1A1"}:null,children:(0,k.jsxs)("span",{style:u.left&&u.left.coreId===t.id||u.right&&u.right.coreId===t.id?{display:"block",backgroundColor:"#90EE90"}:{},children:[(0,k.jsxs)("b",{children:["CORE : ",Qe[t.color]]})," \xa0 \xa0",null!==t.connected_to?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"green",children:"Connected"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>{f(t.id,t.connected_to.id)},children:"Remove"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,children:"Unused"}),(0,k.jsx)(A.Z,{compact:!0,color:"blue",disabled:p.includes(t.id),onClick:()=>{v({cableId:e.id,cableIdentifier:e.identifier,coreId:t.id,color:t.color})},children:"Select"})]}),"\xa0 \xa0 Connected with -",(0,k.jsxs)("b",{children:[t.last_point.type," - (",t.last_point.identifier,")"]})]},t.id)},n)))})]})]},t)}))}),c&&c.length>0&&c.map(((e,t)=>{var n;return(0,k.jsxs)("div",{children:[(0,k.jsx)(l.Z,{header:"".concat(e.splitter_type," Splitter"),color:"teal",style:{textAlign:"center",marginTop:"1rem"}}),(0,k.jsx)(s.Z,{columns:2,children:(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:5,children:[(0,k.jsx)(l.Z,{attached:!0,header:"".concat(e.splitter_type," Configuration")}),(0,k.jsx)(a.Z,{attached:!0,children:(0,k.jsx)("p",{children:(0,k.jsxs)("b",{children:[" ","Type : 1X".concat(e.number_of_splitter)]})})})]}),(0,k.jsxs)(Ae.Z,{width:11,children:[(0,k.jsx)(l.Z,{attached:!0,header:"core details"}),(0,k.jsx)(a.Z,{attached:!0,textAlign:"center",children:null===(n=e.output_cores)||void 0===n?void 0:n.map(((t,n)=>(0,k.jsx)("p",{onClick:()=>b(t),style:x.includes(t.id)?{backgroundColor:"#1EA1A1"}:null,children:(0,k.jsxs)("span",{style:u.left&&u.left.coreId===t.id||u.right&&u.right.coreId===t.id?{display:"block",backgroundColor:"#90EE90"}:{},children:[0===n?(0,k.jsx)("span",{style:{display:"inline",marginRight:"1rem",backgroundColor:"#1EA1A1",padding:".4rem 1.5rem",fontWeight:"bold"},children:"Input core :"}):(0,k.jsxs)("span",{style:{display:"inline",marginRight:"1rem",fontWeight:"bold"},children:["Output : ",t.core_number]}),null!==t.connected_to?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"grey",children:"Connected"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>{f(t.id,t.connected_to.id)},children:"Remove"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"grey",children:"Unused"}),(0,k.jsx)(A.Z,{compact:!0,color:"blue",disabled:p.includes(t.id),onClick:()=>{v({cableId:null,cableIdentifier:null,coreId:t.id,coreNumber:t.core_number,color:null},e.output_cores)},children:"Select"})]})]},t.id)},n)))})]})]})})]},t)})),0===(null===i||void 0===i?void 0:i.length)&&0===(null===c||void 0===c?void 0:c.length)&&(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,children:"No cble or splitter Found"})]})},Ve=[{key:1,text:"Epon",value:"Epon"},{key:2,text:"Gpon",value:"Gpon"}],We=[{key:1,text:"2",value:2},{key:2,text:"4",value:4},{key:3,text:"8",value:8},{key:4,text:"12",value:12},{key:5,text:"16",value:16},{key:6,text:"32",value:32}],_e=e=>{let{tjboxId:t}=e;const[n,s]=(0,r.useState)(2),[l,a]=(0,r.useState)(""),o=()=>{a(""),s(2)};return(0,k.jsxs)(C.Z,{children:[(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Type"}),(0,k.jsx)(i.Z,{fluid:!0,options:Ve,selection:!0,value:l,onChange:(e,t)=>{let{value:n}=t;a(n)}})]}),(0,k.jsxs)(C.Z.Field,{required:!0,children:[(0,k.jsx)("label",{children:"Splitter"}),(0,k.jsx)(i.Z,{fluid:!0,onChange:(e,t)=>{let{value:n}=t;s(n)},options:We,selection:!0,value:n})]}),(0,k.jsx)(C.Z.Group,{children:(0,k.jsx)(A.Z,{fluid:!0,color:"green",onClick:async()=>{if((0,I.Z)(l))return void b.Am.error("Please enter gpon type");const e={name:l,splitter:n,tj_box:t},r=await(0,j.tt)(e);201===r.status&&(b.Am.success("Splitter created successfully"),o()),r.error&&(0,w.Z)(r.error)},children:"Create"})})]})},$e=e=>{let{tjboxId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,a]=(0,r.useState)(!1),i=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)(),u=(0,r.useRef)(),[h,x]=(0,r.useState)(!1);(0,r.useEffect)((()=>{p(t)}),[]);const p=async e=>{const{data:t,status:n,error:r}=await(0,j.Ng)(e);200===n&&(i.current.value=t.name,c.current.value=t.marker.address,d.current.value=t.marker.notes,u.current.value=t.marker.description),r&&(0,w.Z)(r)};return(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(C.Z.Group,{widths:"equal",children:(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"TJ Box Name"}),(0,k.jsx)("input",{name:"name",readOnly:!l,ref:i})]})}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Address"}),(0,k.jsx)("input",{name:"address",ref:c,readOnly:!l})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Notes"}),(0,k.jsx)("textarea",{name:"notes",readOnly:!l,ref:d,rows:3})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Description"}),(0,k.jsx)("textarea",{name:"description",ref:u,readOnly:!l,rows:3})]}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[l?(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:async()=>{const e={name:i.current.value,marker:{address:c.current.value,notes:d.current.value,description:u.current.value}},n=await(0,j.Xe)(t,e);200===n.status&&(a(!1),b.Am.success("TJ Box details updated successfully."),s(g())),n.error&&(0,w.Z)(n.error)},children:"Save"}):(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{a(!0),i.current.focus(),b.Am.info("You can now edit the Tj Box details.")},children:"Edit"}),(0,k.jsx)(A.Z,{fluid:!0,color:"red",onClick:()=>{x(!0)},children:"Delete"})]}),(0,k.jsx)(de.Z,{className:"secondary",open:h,cancelButton:"No",confirmButton:"Yes",onCancel:()=>x(!1),onConfirm:()=>{x(!1),(async()=>{const e=await(0,j.pz)(t);204===e.status&&(n(),b.Am.success("TJ Box deleted successfully."),s(Z()),s(f())),e.error&&(0,w.Z)(e.error)})()}})]})},et=e=>{let{tjboxId:t,onClose:n}=e;const[s,l]=(0,r.useState)(!1),i=[{menuItem:"Connection",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,loading:s,children:(0,k.jsx)(Xe,{tjboxId:t,setLoading:l})})},{menuItem:"Create Splitter",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,children:(0,k.jsx)(_e,{tjboxId:t})})},{menuItem:"Details",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,children:(0,k.jsx)($e,{tjboxId:t,modalClose:n})})}];return(0,k.jsxs)(se.Z,{open:!0,onClose:n,size:"large",children:[(0,k.jsx)(le.Z,{children:"Tj Box Details"}),(0,k.jsx)(ae.Z,{children:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(oe.Z,{menu:{secondary:!0,pointing:!0},panes:i})})}),(0,k.jsx)(ce.Z,{children:(0,k.jsxs)(A.Z,{onClick:n,secondary:!0,children:["Close ",(0,k.jsx)(h.Z,{name:"chevron right"})]})})]})},tt=()=>{const e=(0,o.v9)((e=>e.map.tjboxs)),[t,n]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),a=(0,r.useMemo)((()=>null===e||void 0===e?void 0:e.map((e=>(0,k.jsx)(V.J,{icon:Ee,position:[e.latitude,e.longitude],eventHandlers:{mouseover:e=>e.target.openPopup(),mouseout:e=>e.target.closePopup(),click:t=>{l(!0),n(e.id)}},children:(0,k.jsx)(te.G,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"ID:"})," ",e.identifier]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Name:"})," ",e.name]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Address:"})," ",e.address]})]})})},e.identifier)))),[e]);return(0,k.jsxs)(k.Fragment,{children:[s&&(0,k.jsx)(et,{tjboxId:t,onClose:()=>l(!1)}),a]})},nt=e=>{let{clientId:t}=e;const[n,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{o(t)}),[]);const o=async e=>{try{const{data:t,status:n}=await(0,j.gk)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}},c=async(e,n)=>{try{const{data:r,status:s}=await(0,j.vY)(e,n);200===s&&o(t)}catch(r){return{data:null,status:null,error:r}}};return(0,k.jsx)(k.Fragment,{children:n&&n.length>0?(0,k.jsx)(s.Z,{columns:2,children:null===n||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:5,children:[(0,k.jsx)(l.Z,{attached:!0,header:"cable details"}),(0,k.jsxs)(a.Z,{attached:!0,children:[(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE ID : "})," ",e.identifier]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Total Core : "}),e.number_of_cores]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE length : "}),e.length]})]})]}),(0,k.jsxs)(Ae.Z,{width:11,children:[(0,k.jsx)(l.Z,{attached:!0,header:"core details"}),(0,k.jsx)(a.Z,{attached:!0,textAlign:"center",children:null===(n=e.cores)||void 0===n?void 0:n.map((e=>(0,k.jsxs)("p",{children:[(0,k.jsxs)("b",{children:["CORE : ",Qe[e.color]]})," \xa0 \xa0",e.assigned?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"green",children:"Used"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>c(e.id,{assigned:!1}),children:"Remove"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,children:"Unused"}),(0,k.jsx)(A.Z,{compact:!0,color:"blue",onClick:()=>c(e.id,{assigned:!0}),children:"Assign"})]})]},e.id)))})]})]},t)}))}):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No Cables"})})},rt=e=>{let{clientId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{d(t)}),[]);const d=async e=>{try{const{data:t,status:n}=await(0,j.Hc)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}};return(0,k.jsx)(k.Fragment,{children:l&&l.length>0?l.map(((e,t)=>(0,k.jsxs)("div",{style:{backgroundColor:"#F0F0F0",padding:"10px",textAlign:"center",marginBottom:"1rem"},children:[(0,k.jsx)(A.Z,{style:{margin:"1rem"},onClick:()=>{return t=e.path_direction,s(c.n.setHighlightPath(t)),void n();var t},children:"SHOW THIS PATH ON MAP"}),(0,k.jsx)(Je,{path:e},t)]},t))):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No path to show"})})},st=e=>{let{clientId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,i]=(0,r.useState)(!1),c=(0,r.useRef)(),d=(0,r.useRef)(),h=(0,r.useRef)(),x=(0,r.useRef)(),g=(0,r.useRef)(),[m,Z]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{I(t)}),[]);const I=async e=>{const{data:t,status:n,error:r}=await(0,j.s3)(e);200===n&&(c.current.value=t.name,d.current.value=t.marker.address,h.current.value=t.marker.notes,x.current.value=t.marker.description,g.current.value=t.mobile_number,Z("[".concat(t.marker.latitude,", ").concat(t.marker.longitude,"]"))),r&&(0,w.Z)(r)};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(C.Z.Field,{children:(0,k.jsx)(a.Z,{secondary:!0,children:(0,k.jsx)(u.Z,{readOnly:!0,action:{color:"primary",labelPosition:"right",icon:"copy",content:"Copy",onClick:()=>{navigator.clipboard.writeText(m),b.Am.success("Copied to clipboard")}},value:"latitude and longitude : ".concat(m)})})}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Client Name"}),(0,k.jsx)("input",{name:"name",readOnly:!l,ref:c})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Mobile number"}),(0,k.jsx)("input",{name:"mobile",readOnly:!l,ref:g})]})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Address"}),(0,k.jsx)("input",{name:"address",ref:d,readOnly:!l})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Notes"}),(0,k.jsx)("textarea",{name:"notes",readOnly:!l,ref:h,rows:3})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Description"}),(0,k.jsx)("textarea",{name:"description",ref:x,readOnly:!l,rows:3})]}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[l?(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:async()=>{const e={name:c.current.value,mobile_number:g.current.value,marker:{address:d.current.value,notes:h.current.value,description:x.current.value}},n=await(0,j.Qu)(t,e);200===n.status&&(i(!1),b.Am.success("Client details updated successfully."),s(p())),n.error&&(0,w.Z)(n.error)},children:"Save"}):(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{i(!0),c.current.focus(),b.Am.info("You can now edit the client details.")},children:"Edit"}),(0,k.jsx)(A.Z,{fluid:!0,color:"red",onClick:()=>{y(!0)},children:"Delete"})]}),(0,k.jsx)(de.Z,{className:"secondary",open:v,cancelButton:"No",confirmButton:"Yes",onCancel:()=>y(!1),onConfirm:()=>{y(!1),(async()=>{const e=await(0,j.Nu)(t);204===e.status&&(n(),b.Am.success("Client deleted successfully."),s(p()),s(f())),e.error&&(0,w.Z)(e.error)})()}})]})})},lt=e=>{let{clientId:t,onClose:n}=e;const r=[{menuItem:"Paths",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(rt,{clientId:t,modalClose:n})})},{menuItem:"Connection",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(nt,{clientId:t})})},{menuItem:"Details",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(st,{clientId:t,modalClose:n})})}];return(0,k.jsxs)(se.Z,{open:!0,onClose:n,size:"large",children:[(0,k.jsx)(le.Z,{children:"Client Details"}),(0,k.jsx)(ae.Z,{scrolling:!0,children:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(oe.Z,{menu:{secondary:!0,pointing:!0},panes:r})})}),(0,k.jsx)(ce.Z,{children:(0,k.jsxs)(A.Z,{onClick:n,secondary:!0,children:["Close ",(0,k.jsx)(h.Z,{name:"chevron right"})]})})]})},at=()=>{const e=(0,o.v9)((e=>e.map.clients)),t=(0,X.Sx)(),[n,s]=(0,r.useState)(!1),[l,a]=(0,r.useState)(null),i=(0,r.useMemo)((()=>null===e||void 0===e?void 0:e.map(((e,n)=>(0,k.jsx)(V.J,{icon:ke,position:[e.latitude,e.longitude],eventHandlers:{mouseover:e=>e.target.openPopup(),mouseout:e=>e.target.closePopup(),click:n=>{t.flyTo([e.latitude,e.longitude]),s(!0),a(e.id)}},children:(0,k.jsx)(te.G,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"ID:"})," ",e.identifier]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Name:"})," ",e.name]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Address:"})," ",e.address]})]})})},n)))),[e]);return(0,k.jsxs)(k.Fragment,{children:[n&&(0,k.jsx)(lt,{clientId:l,onClose:()=>s(!1)}),i]})},it=()=>{const e=(0,o.I0)(),t=(0,o.v9)((e=>e.map.highlightPath));return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(K.$,{children:[t&&(0,k.jsx)("button",{onClick:t=>{e(c.n.setHighlightPath(null))},style:{position:"absolute",zIndex:1e3,marginLeft:"10px",marginTop:"120px",width:"34px",height:"31px",border:"2px solid rgba(0,0,0,0.2)",backgroundColor:"white",cursor:"pointer",display:"block"},children:(0,k.jsx)("span",{style:{width:"100%",height:"100%",fontSize:"15px",fontWeight:"bold"},children:"X"})}),null===t||void 0===t?void 0:t.map(((e,t)=>(0,k.jsx)(ee.a,{pathOptions:{color:e.color,weight:6},positions:e.cable_line},t)))]})})};n(3666),n(1396);const ot={position:"absolute",zIndex:700,right:"60px",marginTop:"10px",border:"1px solid red",display:"flex",flexWrap:"wrap",width:"250px",padding:"5px",borderRadius:"5px"},ct={display:"flex",flex:1,minWidth:"70px"},dt=()=>(0,k.jsxs)("div",{style:ot,children:[(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#0000FF"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"2 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#FF0000"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"4 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#000000"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"6 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#800080"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"8 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#FFA500"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"12 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#FFFF00"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"24 core"})]}),(0,k.jsxs)("div",{style:ct,children:[(0,k.jsx)("div",{style:{width:"15px",height:"15px",backgroundColor:"#008000"}}),(0,k.jsx)("span",{style:{marginLeft:"5px"},children:"48 core"})]})]}),ut=()=>{const e=(0,o.v9)((e=>e.map.modelLatlang));return null===e?null:(0,k.jsx)(V.J,{icon:Pe,position:e})};var ht=n(7549);n(8117);const xt=()=>{const e=(0,o.I0)(),t=(0,X.Sx)(),n=t=>{t.location&&e(c.n.updateLatLang({lat:t.location.y,lng:t.location.x}))};return(0,r.useEffect)((()=>{const e=new ht.Zm,r=new ht.C1({provider:e,notFoundMessage:"Location not found",showMarker:!1});return t.addControl(r),t.on("geosearch/showlocation",n),()=>t.removeControl(r)}),[]),null},At=e=>{let{resellerId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{d(t)}),[]);const d=async e=>{try{const{data:t,status:n}=await(0,j._1)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}};return(0,k.jsx)(k.Fragment,{children:l&&l.length>0?l.map(((e,t)=>(0,k.jsxs)("div",{style:{backgroundColor:"#F0F0F0",padding:"10px",textAlign:"center",marginBottom:"5px"},children:[(0,k.jsx)(A.Z,{style:{margin:"1rem"},onClick:()=>{return t=e.path_direction,s(c.n.setHighlightPath(t)),void n();var t},children:"SHOW THIS PATH ON MAP"}),(0,k.jsx)(Je,{path:e},t)]},t))):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No path to show"})})},jt=e=>{let{resellerId:t}=e;const[n,i]=(0,r.useState)(null);(0,r.useEffect)((()=>{o(t)}),[]);const o=async e=>{try{const{data:t,status:n}=await(0,j.E7)(e);200===n&&i(t)}catch(t){return{data:null,status:null,error:t}}},c=async(e,n)=>{try{const{data:r,status:s}=await(0,j.vY)(e,n);200===s&&o(t)}catch(r){return{data:null,status:null,error:r}}};return(0,k.jsx)(k.Fragment,{children:n&&n.length>0?(0,k.jsx)(s.Z,{columns:2,children:null===n||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,k.jsxs)(xe.Z,{children:[(0,k.jsxs)(Ae.Z,{width:5,children:[(0,k.jsx)(l.Z,{attached:!0,header:"cable details"}),(0,k.jsxs)(a.Z,{attached:!0,children:[(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE ID : "})," ",e.identifier]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"Total Core : "}),e.number_of_cores]}),(0,k.jsxs)("p",{children:[(0,k.jsx)("b",{children:"CABLE length : "}),e.length]})]})]}),(0,k.jsxs)(Ae.Z,{width:11,children:[(0,k.jsx)(l.Z,{attached:!0,header:"core details"}),(0,k.jsx)(a.Z,{attached:!0,textAlign:"center",children:null===(n=e.cores)||void 0===n?void 0:n.map((e=>(0,k.jsxs)("p",{children:[(0,k.jsxs)("b",{children:["CORE : ",Qe[e.color]]})," \xa0 \xa0",e.assigned?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,color:"green",children:"Used"}),(0,k.jsx)(A.Z,{compact:!0,color:"red",onClick:()=>c(e.id,{assigned:!1}),children:"Remove"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A.Z,{basic:!0,compact:!0,children:"Unused"}),(0,k.jsx)(A.Z,{compact:!0,color:"blue",onClick:()=>c(e.id,{assigned:!0}),children:"Assign"})]})]},e.id)))})]})]},t)}))}):(0,k.jsx)(a.Z,{textAlign:"center",secondary:!0,attached:!0,basic:!0,children:"No Cables"})})},gt=e=>{let{resellerId:t,modalClose:n}=e;const s=(0,o.I0)(),[l,a]=(0,r.useState)(!1),i=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)(),u=(0,r.useRef)(),h=(0,r.useRef)(),[x,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{p(t)}),[]);const p=async e=>{const{data:t,status:n,error:r}=await(0,j.Rh)(e);200===n&&(i.current.value=t.name,c.current.value=t.marker.address,d.current.value=t.marker.notes,u.current.value=t.marker.description,h.current.value=t.mobile_number),r&&(0,w.Z)(r)};return(0,k.jsxs)(C.Z,{children:[(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Reseller Name"}),(0,k.jsx)("input",{name:"name",readOnly:!l,ref:i})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Mobile number"}),(0,k.jsx)("input",{name:"mobile",readOnly:!l,ref:h})]})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Address"}),(0,k.jsx)("input",{name:"address",ref:c,readOnly:!l})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Notes"}),(0,k.jsx)("textarea",{name:"notes",readOnly:!l,ref:d,rows:3})]}),(0,k.jsxs)(C.Z.Field,{children:[(0,k.jsx)("label",{children:"Description"}),(0,k.jsx)("textarea",{name:"description",ref:u,readOnly:!l,rows:3})]}),(0,k.jsxs)(C.Z.Group,{widths:"equal",children:[l?(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:async()=>{const e={name:i.current.value,mobile_number:h.current.value,marker:{address:c.current.value,notes:d.current.value,description:u.current.value}},n=await(0,j.lX)(t,e);200===n.status&&(a(!1),b.Am.success("Reseller details updated successfully."),s(m())),n.error&&(0,w.Z)(n.error)},children:"Save"}):(0,k.jsx)(A.Z,{fluid:!0,secondary:!0,onClick:()=>{a(!0),i.current.focus(),b.Am.info("You can now edit the reseller details.")},children:"Edit"}),(0,k.jsx)(A.Z,{fluid:!0,color:"red",onClick:()=>{g(!0)},children:"Delete"})]}),(0,k.jsx)(de.Z,{className:"secondary",open:x,cancelButton:"No",confirmButton:"Yes",onCancel:()=>g(!1),onConfirm:()=>{g(!1),(async()=>{const e=await(0,j.Bc)(t);204===e.status&&(n(),b.Am.success("Reseller deleted successfully."),s(m()),s(f())),e.error&&(0,w.Z)(e.error)})()}})]})},pt=e=>{let{resellerId:t,onClose:n}=e;const r=[{menuItem:"Paths",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(At,{resellerId:t,modalClose:n})})},{menuItem:"Connection",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(jt,{resellerId:t})})},{menuItem:"Details",render:()=>(0,k.jsx)(re.Z,{attached:!1,as:a.Z,basic:!0,style:{padding:0},children:(0,k.jsx)(gt,{resellerId:t,modalClose:n})})}];return(0,k.jsxs)(se.Z,{open:!0,onClose:n,size:"large",children:[(0,k.jsx)(le.Z,{children:"Reseller Details"}),(0,k.jsx)(ae.Z,{scrolling:!0,children:(0,k.jsx)(ie.Z,{children:(0,k.jsx)(oe.Z,{menu:{secondary:!0,pointing:!0},panes:r})})}),(0,k.jsx)(ce.Z,{children:(0,k.jsxs)(A.Z,{onClick:n,secondary:!0,children:["Close ",(0,k.jsx)(h.Z,{name:"chevron right"})]})})]})},mt=()=>{const e=(0,o.v9)((e=>e.map.resellers)),t=(0,X.Sx)(),[n,s]=(0,r.useState)(!1),[l,a]=(0,r.useState)(null),i=(0,r.useMemo)((()=>null===e||void 0===e?void 0:e.map((e=>(0,k.jsx)(V.J,{icon:Be,position:[e.latitude,e.longitude],eventHandlers:{mouseover:e=>e.target.openPopup(),mouseout:e=>e.target.closePopup(),click:n=>{t.flyTo([e.latitude,e.longitude]),s(!0),a(e.id)}},children:(0,k.jsx)(te.G,{children:(0,k.jsxs)(x.Z,{children:[(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"ID:"})," ",e.identifier]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Name:"})," ",e.name]}),(0,k.jsxs)(ne.Z,{children:[(0,k.jsx)("b",{children:"Address:"})," ",e.address]})]})})},e.id)))),[e]);return(0,k.jsxs)(k.Fragment,{children:[n&&(0,k.jsx)(pt,{resellerId:l,onClose:()=>s(!1)}),i]})};delete fe().Icon.Default.prototype._getIconUrl,fe().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png"});const Zt=()=>{const{BaseLayer:e}=ge.LayersControl,[t,n]=(0,r.useState)({lat:22.8724,lng:91.0973}),{setMap:s}=(0,d.f)(),l=(0,o.I0)(),a=(0,o.v9)((e=>e.map.drawLine));return(0,r.useEffect)((()=>{l(g()),l(p()),l(Z()),l((async e=>{try{const{data:t,status:n}=await(0,j.jR)();200===n&&e(c.n.setGpons(t))}catch(t){console.error(t)}})),l(f()),l(m())}),[l]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(q,{visible:null!==a}),(0,k.jsxs)(pe.h,{center:t,zoom:13,ref:s,children:[(0,k.jsxs)(ge.LayersControl,{position:"topright",children:[(0,k.jsx)(e,{checked:!0,name:"Satellite View",children:(0,k.jsx)(me.I,{url:"https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]})}),(0,k.jsx)(e,{name:"Street View",children:(0,k.jsx)(me.I,{url:"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]})})]}),(0,k.jsx)(dt,{}),(0,k.jsx)(ut,{}),(0,k.jsx)($,{}),(0,k.jsx)(Ue,{}),(0,k.jsx)(at,{}),(0,k.jsx)(tt,{}),(0,k.jsx)(mt,{}),(0,k.jsx)(Ge,{}),(0,k.jsx)(it,{}),(0,k.jsx)(xt,{})]})]})};function ft(){return(0,k.jsxs)(s.Z,{padded:!0,children:[(0,k.jsxs)(s.Z.Column,{width:3,children:[(0,k.jsx)(l.Z,{success:!0,header:"MODELS",style:{textAlign:"center"}}),(0,k.jsx)(a.Z,{children:(0,k.jsx)(G,{})})]}),(0,k.jsx)(s.Z.Column,{width:13,children:(0,k.jsx)(a.Z,{children:(0,k.jsx)(Zt,{})})})]})}},9599:(e,t,n)=>{n.d(t,{$D:()=>l,AK:()=>T,Bc:()=>v,Bu:()=>b,CN:()=>i,E7:()=>y,Hc:()=>g,Ng:()=>I,Nu:()=>A,OL:()=>L,Qu:()=>x,Rh:()=>Z,UH:()=>m,Up:()=>a,VW:()=>o,WI:()=>F,Xe:()=>k,ZL:()=>u,_1:()=>C,_O:()=>R,a7:()=>s,ce:()=>c,eI:()=>d,gk:()=>j,hn:()=>Q,i3:()=>w,jR:()=>B,k$:()=>M,kQ:()=>H,lX:()=>f,n8:()=>G,nT:()=>N,pz:()=>E,s3:()=>h,tr:()=>p,tt:()=>P,tx:()=>D,vY:()=>S,xw:()=>z});var r=n(3216);async function s(){try{const{data:e,status:t}=await r.Z.get("dashboard/");return{data:e,status:t,error:null}}catch(e){return{data:null,status:null,error:e}}}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/pop/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/pop/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function i(e){try{const{data:t,status:n}=await r.Z.get("pop/".concat(e,"/update/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.put("pop/".concat(e,"/update/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function c(e){try{const{data:t,status:n}=await r.Z.delete("pop/".concat(e,"/delete/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/client/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/client/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function h(e){try{const{data:t,status:n}=await r.Z.get("client/".concat(e,"/update/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.put("client/".concat(e,"/update/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function A(e){try{const{data:t,status:n}=await r.Z.delete("client/".concat(e,"/delete/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function j(e){try{const{data:t,status:n}=await r.Z.get("client-details/".concat(e,"/cores/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const{data:t,status:n}=await r.Z.get("client/".concat(e,"/paths/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/reseller/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/reseller/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function Z(e){try{const{data:t,status:n}=await r.Z.get("reseller/".concat(e,"/update/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.put("reseller/".concat(e,"/update/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function v(e){try{const{data:t,status:n}=await r.Z.delete("reseller/".concat(e,"/delete/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function y(e){try{const{data:t,status:n}=await r.Z.get("reseller-details/".concat(e,"/cores/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const{data:t,status:n}=await r.Z.get("reseller/".concat(e,"/paths/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/tjbox/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/tjbox/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function I(e){try{const{data:t,status:n}=await r.Z.get("tjbox/".concat(e,"/update/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.put("tjbox/".concat(e,"/update/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function E(e){try{const{data:t,status:n}=await r.Z.delete("tjbox/".concat(e,"/delete/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/gpon/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/gpon/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("/cable/create/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.get("/cable/",{params:e});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.patch("core/".concat(e,"/update-assign-status/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function T(e){try{const{data:t,status:n}=await r.Z.get("tjbox-details/".concat(e,"/cores/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const{data:t,status:n}=await r.Z.get("pop/".concat(e,"/paths/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function z(e){try{const{data:t,status:n}=await r.Z.get("pop-details/".concat(e,"/cores/"),{});return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("connect-cores/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{data:t,status:n}=await r.Z.post("disconnect-cores/",e);return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function L(e){try{const{data:t,status:n}=await r.Z.get("cable/".concat(e,"/update/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.put("cable/".concat(e,"/update/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}async function N(e){try{const{data:t,status:n}=await r.Z.delete("cable/".concat(e,"/delete/"));return{data:t,status:n,error:null}}catch(t){return{data:null,status:null,error:t}}}async function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const{data:n,status:s}=await r.Z.post("cable/".concat(e,"/cut/"),t);return{data:n,status:s,error:null}}catch(n){return{data:null,status:null,error:n}}}}}]);
//# sourceMappingURL=962.e315e8fa.chunk.js.map